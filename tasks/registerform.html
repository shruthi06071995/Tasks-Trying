<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample Registration Form</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="./registerform.css">
</head>

<body>

    <div class="container-fluid section1">
        <div class="container content1 ">
            <h1>Registration Form </h1>
            <h5>Username</h5>
            <input type="text" id="username" placeholder="username">
            <p id="name"></p>
            <h5>Email</h5>
            <input type="text" id="email" placeholder="Email">
            <p id="mail"></p>
            <h5>Password</h5>
            <input type="password" id="password" placeholder="password">
            <p id="pw"></p>
            <h5>Mobile Number</h5>
            <input type="text" id="mobilenumber" placeholder="mobile number">
            <p id="mob"></p>
            <h5>DOB</h5>
            <input type="date" id="dob" placeholder="dd-mm-yyyy">
            <p id="date"></p>

            <h5>Gender</h5>
            <input type="radio" id="red" name="gender" value="male">
            <label for="red">Male</label>
            <input type="radio" id="blue" name="gender" value="female">
            <label for="blue">Female</label>
            <input type="radio" id="green" name="gender" value="other">
            <label for="green">Prefer not to say</label><br>
            <p id="gndr"></p>

            <h5>Address</h5>
            <input type="text" id="address" placeholder="address">
            <p id="add"></p>

            <select name="country" id="country">
                <option value="">-- Select Country --</option>
                <option value="In">India</option>
                <option value="US">United States</option>
                <option value="GB">United Kingdom</option>
                <option value="CA">Canada</option>
                <option value="AU">Australia</option>
            </select>
            <p id="message"></p>

            <h5>Postal Code</h5>
            <input type="text" id="pin1" placeholder="Enter the postal code">
            <p id="code1"></p>

            <p>Select a file:</p>
            <input type="file" id="fileInput">
            <button onclick="uploadFile()" class="uploads">upload</button>
            <p id="message"></p>
            

            <button onclick="userForm()" class="submit">submit</button>
            <script>
                function userForm() {

                    //Username Validation
                    let n = document.getElementById("username").value;
                    let pattern = /^[a-zA-Z]{3,10}$/;
                    if (n == "") {
                        document.getElementById("name").innerHTML = "*Enter your name";
                    }
                    else if (!pattern.test(n)) {
                        document.getElementById("name").innerHTML = "*Enter a valid name";
                    }
                    else {
                        document.getElementById("name").innerHTML = "";
                    }

                    //Email Validation
                    let e = document.getElementById("email").value;
                    let mailpattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                    if (e == "") {
                        document.getElementById("mail").innerHTML = "*Enter your mail ID";
                    }
                    else if (!mailpattern.test(e)) {
                        document.getElementById("mail").innerHTML = "*Enter a valid mail ID"
                    }
                    else {
                        document.getElementById("mail").innerHTML = "";
                    }

                    //Password Validation
                    let p = document.getElementById("password").value;
                    let pwpattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
                    if (p == "") {
                        document.getElementById("pw").innerHTML = "*Enter your password";
                    }
                    else if (!pwpattern.test(p)) {
                        document.getElementById("pw").innerHTML = "*Enter the correct password";
                    }
                    else {
                        document.getElementById("pw").innerHTML = "";
                    }

                    //Mobile Number Validation
                    let m = document.getElementById("mobilenumber").value;
                    let mobpattern = /^\d{10}$/;
                    if (m == "") {
                        document.getElementById("mob").innerHTML = "*Enter your mobile number";
                    }
                    else if (!mobpattern.test(m)) {
                        document.getElementById("mob").innerHTML = "*Enter a valid mobile number";
                    }
                    else {
                        document.getElementById("mob").innerHTML = "";
                    }

                    //DOB validation
                    let d = document.getElementById("dob").value;
                    let datepattern = /^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[0-2])-(19|20)\d\d$/;
                    if (d == "") {
                        document.getElementById("date").innerHTML = "*Enter your DOB";
                    }
                    else if (!datepattern.test(d)) {
                        document.getElementById("date").innerHTML = "*Enter a valid DOB";
                    }
                    else {
                        document.getElementById("date").innerHTML = "";
                    }

                    //Gender Validation
                    const selectGender = document.querySelector('input[name="gender"]:checked');

                    if (selectGender) {
                        document.getElementById("gndr").innerHTML = "";
                    }
                    else {
                        document.getElementById("gndr").innerHTML = "*Please select your gender";
                    }

                    //Address Validation
                    let a = document.getElementById("address").value;
                    if (a == "") {
                        document.getElementById("add").innerHTML = "*Enter your address";
                    }
                    else {
                        document.getElementById("add").innerHTML = "";
                    }

                    //Country Validation
                    const country = document.getElementById("country");
                    const message = document.getElementById("message");

                    message.textContent = '';
                    country.classList.remove('invalid');

                    if (!country.value) {
                        country.classList.add('invalid');
                        message.className = 'error';
                        message.textContent = '*Please select your country';
                        country.focus();
                    }
                    
                    //postal code
                    var post1 = document.getElementById("pin1").value;
                  
                    // Check: only numbers and exactly 6 digits
                    if (/^[0-9]{6}$/.test(post1)) {
                        document.getElementById("code1").innerHTML = "*Invalid Postal Code";
                    } else {
                        document.getElementById("code1").innerHTML = "*Enter the Postal Code";
                    }  

                    // Select file validation
                    if (!fileSelected) {
                        
                        document.getElementById("message").innerHTML = "Upload a file before submitting";
                    }
                    else {
                        document.getElementById("message").innerHTML = "File Submitted";
                    }
                }

                //Select file validation for upload Button
                let fileSelected = false;
                
                function uploadFile() {
                        let file = document.getElementById("fileInput").value;
                        if (file === "") {
                            document.getElementById("message").innerHTML = "Please choose a file!";
                            fileSelected = false;
                        }
                        else {
                            document.getElementById("message").innerHTML = "File uploaded successfully";
                            fileSelected = true;
                        }
                    }
            </script>
        </div>
    </div>
</body>

</html>